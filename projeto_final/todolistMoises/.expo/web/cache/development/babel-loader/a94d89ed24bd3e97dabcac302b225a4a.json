{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var ListProductContext = React.createContext();\nexport var ListProductProvider = function ListProductProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    productList = _useState2[0],\n    setProductList = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    productListFilter = _useState4[0],\n    setProductListFilter = _useState4[1];\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedCategory = _useState6[0],\n    setSelectedCategory = _useState6[1];\n  var _useState7 = useState([{\n      key: \"Trabalho\",\n      value: \"Trabalho\"\n    }, {\n      key: \"Casa\",\n      value: \"Casa\"\n    }, {\n      key: \"Pesoal\",\n      value: \"Pesoal\"\n    }, {\n      key: \"Family\",\n      value: \"Family\"\n    }, {\n      key: \"Estudar\",\n      value: \"Estudar\"\n    }]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    categoryList = _useState8[0],\n    setCategoryList = _useState8[1];\n  var _useState9 = useState([{\n      key: \"Acabou\",\n      value: \"Acabou\"\n    }, {\n      key: \"Acabando\",\n      value: \"Acabando\"\n    }]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    precisanssaList = _useState10[0],\n    setPrecisanssaList = _useState10[1];\n  var addProduto = function () {\n    var _ref2 = _asyncToGenerator(function* (oqComprar) {\n      try {\n        yield AsyncStorage.setItem('product', JSON.stringify(oqComprar));\n      } catch (err) {\n        console.log(err);\n      }\n    });\n    return function addProduto(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    try {\n      var r = AsyncStorage.getItem('product');\n      setProductList(r != null ? JSON.parse(r) : null);\n      productList.filter(function (r) {\n        return r.category == selectedCategory;\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }, [selectedCategory, productList]);\n  return _jsx(ListProductContext.Provider, {\n    value: {\n      productList: productList,\n      addProduto: addProduto,\n      precisanssaList: precisanssaList,\n      categoryList: categoryList,\n      setSelectedCategory: setSelectedCategory,\n      productListFilter: productListFilter\n    },\n    children: children\n  });\n};","map":{"version":3,"names":["React","useEffect","useState","AsyncStorage","ListProductContext","createContext","ListProductProvider","children","productList","setProductList","productListFilter","setProductListFilter","selectedCategory","setSelectedCategory","key","value","categoryList","setCategoryList","precisanssaList","setPrecisanssaList","addProduto","oqComprar","setItem","JSON","stringify","err","console","log","r","getItem","parse","filter","category"],"sources":["C:/Users/moises.psilva5/Desktop/Projetos/projeto_final/todoList/context/ListProductCreate.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nexport const ListProductContext = React.createContext();\r\n\r\nexport const ListProductProvider = ({ children }) => {\r\n  const [productList, setProductList] = useState([]);\r\n  const [productListFilter, setProductListFilter] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState();\r\n  const [categoryList, setCategoryList] = useState([\r\n    { key: \"Trabalho\", value: \"Trabalho\" },\r\n    { key: \"Casa\", value: \"Casa\" },\r\n    { key: \"Pesoal\", value: \"Pesoal\" },\r\n    { key: \"Family\", value: \"Family\" },\r\n    { key: \"Estudar\", value: \"Estudar\" },\r\n  ]);\r\n  const [precisanssaList, setPrecisanssaList] = useState([\r\n    { key: \"Acabou\", value: \"Acabou\" },\r\n    { key: \"Acabando\", value: \"Acabando\" }\r\n  ]);\r\n\r\n  const addProduto = async(oqComprar) => {\r\n    try{\r\n        await AsyncStorage.setItem( 'product', JSON.stringify(oqComprar))\r\n    }catch(err){\r\n        console.log(err)\r\n    }\r\n  };\r\n    \r\n    useEffect(() => {\r\n        try{\r\n            const r =  AsyncStorage.getItem('product')\r\n           setProductList( r != null ? JSON.parse(r) : null)\r\n           productList.filter((r) => r.category == selectedCategory)\r\n         }catch(err){\r\n           console.log(err)\r\n         }\r\n    },[selectedCategory, productList])\r\n\r\n  return (\r\n    <ListProductContext.Provider\r\n      value={{\r\n        productList,\r\n        addProduto,\r\n        precisanssaList,\r\n        categoryList,\r\n        setSelectedCategory,\r\n        productListFilter,\r\n      }}\r\n    >\r\n      {children}\r\n    </ListProductContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,2CAA2C;AAAC;AAErE,OAAO,IAAMC,kBAAkB,GAAGJ,KAAK,CAACK,aAAa,EAAE;AAEvD,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EAC5C,gBAAsCL,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3CM,WAAW;IAAEC,cAAc;EAClC,iBAAkDP,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAvDQ,iBAAiB;IAAEC,oBAAoB;EAC9C,iBAAgDT,QAAQ,EAAE;IAAA;IAAnDU,gBAAgB;IAAEC,mBAAmB;EAC5C,iBAAwCX,QAAQ,CAAC,CAC/C;MAAEY,GAAG,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAW,CAAC,EACtC;MAAED,GAAG,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAO,CAAC,EAC9B;MAAED,GAAG,EAAE,QAAQ;MAAEC,KAAK,EAAE;IAAS,CAAC,EAClC;MAAED,GAAG,EAAE,QAAQ;MAAEC,KAAK,EAAE;IAAS,CAAC,EAClC;MAAED,GAAG,EAAE,SAAS;MAAEC,KAAK,EAAE;IAAU,CAAC,CACrC,CAAC;IAAA;IANKC,YAAY;IAAEC,eAAe;EAOpC,iBAA8Cf,QAAQ,CAAC,CACrD;MAAEY,GAAG,EAAE,QAAQ;MAAEC,KAAK,EAAE;IAAS,CAAC,EAClC;MAAED,GAAG,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAW,CAAC,CACvC,CAAC;IAAA;IAHKG,eAAe;IAAEC,kBAAkB;EAK1C,IAAMC,UAAU;IAAA,8BAAG,WAAMC,SAAS,EAAK;MACrC,IAAG;QACC,MAAMlB,YAAY,CAACmB,OAAO,CAAE,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACH,SAAS,CAAC,CAAC;MACrE,CAAC,QAAMI,GAAG,EAAC;QACPC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MACpB;IACF,CAAC;IAAA,gBANKL,UAAU;MAAA;IAAA;EAAA,GAMf;EAECnB,SAAS,CAAC,YAAM;IACZ,IAAG;MACC,IAAM2B,CAAC,GAAIzB,YAAY,CAAC0B,OAAO,CAAC,SAAS,CAAC;MAC3CpB,cAAc,CAAEmB,CAAC,IAAI,IAAI,GAAGL,IAAI,CAACO,KAAK,CAACF,CAAC,CAAC,GAAG,IAAI,CAAC;MACjDpB,WAAW,CAACuB,MAAM,CAAC,UAACH,CAAC;QAAA,OAAKA,CAAC,CAACI,QAAQ,IAAIpB,gBAAgB;MAAA,EAAC;IAC3D,CAAC,QAAMa,GAAG,EAAC;MACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB;EACL,CAAC,EAAC,CAACb,gBAAgB,EAAEJ,WAAW,CAAC,CAAC;EAEpC,OACE,KAAC,kBAAkB,CAAC,QAAQ;IAC1B,KAAK,EAAE;MACLA,WAAW,EAAXA,WAAW;MACXY,UAAU,EAAVA,UAAU;MACVF,eAAe,EAAfA,eAAe;MACfF,YAAY,EAAZA,YAAY;MACZH,mBAAmB,EAAnBA,mBAAmB;MACnBH,iBAAiB,EAAjBA;IACF,CAAE;IAAA,UAEDH;EAAQ,EACmB;AAElC,CAAC"},"metadata":{},"sourceType":"module"}